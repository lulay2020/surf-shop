<form action="/posts" method="GET" class="d-flex flex-column">
	<li>
	<legend>Search</legend>
	<fieldset class="dropdown-item">
		<input 
			type="text" 
			name="search" 
			id="search" 
			placeholder="Type what's in your mind" 
			value="<%= query.search %>" 
				class="form-control"
			>
		</fieldset>
	</li>
	<li>
		<legend>By Distance (miles)</legend>
		<fieldset class="dropdown-item">
			<div>
				<label for="location">Location</label>
				<input 
					type="text" 
					name="location" 
					id="location" 
					placeholder="Address or Zipcode" 
					value="<%= query.location %>" 
					class="form-control"
					>
				<br>
				<small><a href="#" id="find-me">use my location</a></small><br>
				<p id="status"></p>
			</div>
			<div>
				<input 
					type="radio" 
					name="distance" 
					id="distance25" 
					value="25" <%= query.distance === '25' ? 'checked' : ''%>
					>
				<label for="distance25">25</label>
			</div>
			<div>
				<input 
					type="radio" 
					name="distance" 
					id="distance50" 
					value="50" <%= query.distance === '50' ? 'checked' : ''%>
					>
				<label for="distance50">50</label>
			</div>
			<div>
				<input 
					type="radio" 
					name="distance" 
					id="distance100" 
					value="100" <%= query.distance === '100' ? 'checked' : ''%>
					>
				<label for="distance100">100</label>
			</div>
			<small>
				<a href="#" id="clear-distance">clear</a>	
			</small>
		</fieldset>
	</li>
	<li>
		<legend>By Price</legend>
		<fieldset class="dropdown-item">
			<label for="min">Min</label>
			<input 
				type="number" 
				id="min" 
				name="price[min]" 
				min="0" 
				max="10000" 
				step="1" 
				placeholder="Min" 
				value="<%= query.price ? query.price.min : '' %>"
				class="form-control"
				>
			<label for="max">Max</label>
			<input 
				type="number" 
				id="max" 
				name="price[max]" 
				min="0" 
				max="10000" 
				step="1"
				placeholder="Max" 
				value="<%= query.price ? query.price.max : '' %>" 
				class="form-control"
				>
		</fieldset>
	</li>
	<li>
		<legend>By Rating</legend>
		<fieldset id="rating" class="dropdown-item">
			<div>
				<input 
					type="checkbox" 
					id="zero-stars" 
					name="avgRating[0]" 
					value="0" <%= query.avgRating && query.avgRating.includes('0') ? 'checked' : '' %>
					>
				<label for="zero-stars">0 stars</label>	
			</div>
			<div>
				<input 
					type="checkbox" 
					id="one-star" 
					name="avgRating[1]" 
					value="1" "<%= query.avgRating && query.avgRating.includes('1') ? 'checked' : '' %>
				>
				<label for="one-star">1 star</label>	
			</div>
			<div>
				<input 
					type="checkbox" 
					id="two-stars" 
					name="avgRating[2]" 
					value="2" <%= query.avgRating && query.avgRating.includes('2') ? 'checked' : '' %>
					>
				<label for="two-stars">2 stars</label>	
			</div>
			<div>
				<input 
					type="checkbox" 
					id="three-stars" 
					name="avgRating[3]" 
					value="3" <%= query.avgRating && query.avgRating.includes('3') ? 'checked' : '' %>
					>
				<label for="three-stars">3 stars</label>	
			</div>
			<div>
				<input 
					type="checkbox" 
					id="four-stars" 
					name="avgRating[4]" 
					value="4" <%= query.avgRating && query.avgRating.includes('4') ? 'checked' : '' %>
					>
				<label for="four-stars">4 stars</label>	
			</div>

			<div>
				<input 
					type="checkbox" 
					id="five-stars" 
					name="avgRating[5]" 
					value="5" <%= query.avgRating && query.avgRating.includes('5') ? 'checked' : '' %>
					>
				<label for="five-stars">5 stars</label>	
			</div>
		</fieldset>
	</li>
	<div class="m-2">
		<small>
			<a href="/posts">reset form</a>
		</small>
		<br>
		<input type="submit" class="btn btn-block btn-warning my-3" value="Search!">
	</div>
</form>

<script src="/scripts/use-my-location.js"></script>